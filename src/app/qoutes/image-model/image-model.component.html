<div class="wrap">
    <div class="header">
        <div class="title" (click)="reelView()">Quote Preview</div>
        <button class="icon-btn" aria-label="Close" matTooltip="Close modal" (click)="close()">
            <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                <path d="M6 6L18 18M6 18L18 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
        </button>
    </div>

    <div class="big capture" #captureBox [class.square]="mode==='1080'" [class.story]="mode==='1080x1920'">
        <div class="spinner" *ngIf="loading">Loading…</div>

        <div class="bg" *ngIf="!loading" [style.backgroundImage]="'url(' + bigUrl + ')'"></div>
        <div class="darken" *ngIf="!loading"></div>
        <div class="tint" *ngIf="!loading"></div>

        <div class="overlay" *ngIf="!loading">
            <div class="overlay-center">
                <blockquote class="quote" [ngClass]="getQuoteClass()">“{{ quote }}”</blockquote>
                <div class="author">{{ author }}</div>
            </div>
            <div class="brand">iAdoreQuotes.com</div>
        </div>
    </div>

    <div class="thumbs">
        <button *ngFor="let t of thumbs; index as i" class="thumb" [class.active]="isActive(i)" (click)="onPick(i)"
            (mouseenter)="prewarm(i)" (mouseleave)="cancelPrewarm(i)" (focus)="prewarm(i)" (blur)="cancelPrewarm(i)">
            <img [src]="t" loading="lazy" decoding="async" alt="thumb">
        </button>
    </div>

    <div class="actions">
        <button class="btn btn-dark" (click)="downloadSquare()">
            <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 3v10m0 0l4-4m-4 4-4-4M4 17v3h16v-3" stroke="currentColor" stroke-width="2" fill="none"
                    stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            Download
        </button>

        <button class="btn btn-primary" (click)="share()">
            <svg viewBox="0 0 24 24" aria-hidden="true">
                <circle cx="18" cy="5" r="3" fill="currentColor" />
                <circle cx="6" cy="12" r="3" fill="currentColor" />
                <circle cx="18" cy="19" r="3" fill="currentColor" />
                <path d="M8.9 11l6.2-3.2M8.9 13l6.2 3.2" stroke="currentColor" stroke-width="2" fill="none"
                    stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            Share
        </button>
    </div>
</div>